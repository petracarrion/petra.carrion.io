<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">

    <title>Job Market Analytics - petra.carrion.io</title>

    <link href="dist/reset.css" rel="stylesheet">
    <link href="dist/reveal.css" rel="stylesheet">
    <link href="dist/theme/black.css" rel="stylesheet">

    <!-- Theme used for syntax highlighted code -->
    <link href="plugin/highlight/monokai.css" rel="stylesheet">
</head>
<body>
<div class="reveal">
    <div class="slides">

        <section>
            <p>DocuWare</p>
        </section>

        <section>
            <p>Note: all date related to DocuWare will removed from Github and Azure as soon as this recruitment process
                is concluded</p>
        </section>

        <section>
            <p>Overview</p>
            <p class="fragment fade-in">An Azure Data Factory Copy Pipeline was created to ingest data from the REST API
                to the database</p>
            <p class="fragment fade-in">In order to test the pipeline end-to-end, an API Mock was created</p>
            <p class="fragment fade-in">In order to create a basic Power BI report, historical mock data was
                generated</p>
        </section>

        <section>
            <p>Azure Data Factory</p>
            <p class="fragment fade-in">I created an Azure Subscription for this use case</p>
            <p class="fragment fade-in">and an Azure Data Factory instance</p>
            <p class="fragment fade-in">My Azure Data Factory objects are persisted on my private Github Project as
                Infrastructure-as-Code: <a href="https://github.com/petracarrion/docuware/tree/main/datafactory">https://github.com/petracarrion/docuware/tree/main/datafactory</a>
            </p>
            <p class="fragment fade-in">But I actually provision all Azure Infrastructure using the Web UI</p>
        </section>

        <section>
            <p>Copy Pipeline</p>
            <p class="fragment fade-in">The Copy Pipeline is fairly simple</p>
            <p class="fragment fade-in">It runs every 24 hours</p>
            <p class="fragment fade-in">Reads data from a REST API endpoint</p>
            <p class="fragment fade-in">And writes it on an Azure SQL DB</p>
        </section>

        <section>
            <img src="dist/images/pipelineoverview.png" alt=""/>
        </section>

        <section>
            <p>Scheduling</p>
            <p class="fragment fade-in">This is the trigger that makes the pipeline run everyday after 12am</p>
            <p class="fragment fade-in">Please note the recurrence every 24 hours</p>
        </section>

        <section>
            <img src="dist/images/trigger.png" alt=""/>
        </section>

        <section>
            <p>Data Source</p>
            <p class="fragment fade-in">For the Data Source I use a "REST" Dataset</p>
            <p class="fragment fade-in">Which points to an API Mock I created</p>
            <p class="fragment fade-in"><a href="https://contact-feed.free.beeceptor.com/">https://contact-feed.free.beeceptor.com/</a>
            </p>
        </section>

        <section>
            <img src="dist/images/restdatasource.png" alt=""/>
        </section>

        <section>
            <p>This API Mock is actually paginated</p>
            <p class="fragment fade-in">And in order to download all data,</p>
            <p class="fragment fade-in">we must go through all these URLs</p>
            <p class="fragment fade-in"><a href="https://contact-feed.free.beeceptor.com/">https://contact-feed.free.beeceptor.com/</a>
            </p>
            <p class="fragment fade-in"><a href="https://contact-feed.free.beeceptor.com/?after=0100">https://contact-feed.free.beeceptor.com/?after=0100</a>
            </p>
            <p class="fragment fade-in"><a href="https://contact-feed.free.beeceptor.com/?after=0200">https://contact-feed.free.beeceptor.com/?after=0200</a>
            </p>
            <p class="fragment fade-in"><a href="https://contact-feed.free.beeceptor.com/?after=0300">...</a></p>
            <p class="fragment fade-in"><a href="https://contact-feed.free.beeceptor.com/?after=1000">https://contact-feed.free.beeceptor.com/?after=1000</a>
            </p>
        </section>

        <section>
            <p>To solve the pagination...</p>
            <p class="fragment fade-in">I configured on the Data Source Tab the correspoding "Pagination Rules"</p>
        </section>

        <section>
            <img src="dist/images/pagination.png" alt=""/>
        </section>

        <section>
            <p>And added an "additional column" for the ingestion date</p>
        </section>

        <section>
            <img src="dist/images/pagination.png" alt=""/>
        </section>

        <section>
            <p>Data Destination</p>
            <p class="fragment fade-in">As data destination I created an Azure SQL DB</p>
            <p class="fragment fade-in">And created the following table</p>
            <p class="fragment fade-in">My only addition to the given JSON object is the last column</p>
            <p class="fragment fade-in">Ingestion Date</p>
        </section>

        <section>
            <img src="dist/images/table.png" alt=""/>
        </section>

        <section>
            <p>This Azure SQL table is used as data sink on the copy pipeline</p>
        </section>

        <section>
            <img src="dist/images/sink.png" alt=""/>
        </section>

        <section>
            <p>And the mapping is basically one-to-one between the JSON format and the SQL table</p>
            <p class="fragment fade-in">We just skip the paging parameters</p>
            <p class="fragment fade-in">And add the ingestion date</p>
        </section>

        <section>
            <img src="dist/images/mapping.png" alt=""/>
        </section>

        <section>
            <p>Creating the Azure Data Factory Copy Pipeline was easy</p>
            <p class="fragment fade-in">Due to the fact that I actually started by creating a Mock API</p>
            <p class="fragment fade-in">This data for the Mock API was created via Python</p>
        </section>

        <section>
            <img src="dist/images/generatemockapi.png" alt=""/>
        </section>

        <section>
            <p>And it is served by a free online service called Beeceptor.com</p>
        </section>

        <section>
            <img src="dist/images/beeceptor.png" alt=""/>
        </section>

        <section>
            <p>This all result on 3 objects on the Azure Data Factory:</p>
            <p class="fragment fade-in">One Pipeline</p>
            <p class="fragment fade-in">And two Datasets</p>
        </section>

        <section>
            <img src="dist/images/adfoverview.png" alt=""/>
        </section>

        <section>
            <p>Data Modelling</p>
            <p class="fragment fade-in">I would say that the object being imported</p>
            <p class="fragment fade-in">Represents a Contact and probably a 2nd entity for the company</p>
            <p class="fragment fade-in">This makes me think that it does not belong to a fact table</p>
            <p class="fragment fade-in">But rather a dimmension table (or two if we separate the company from the
                contact)</p>
        </section>

        <section>
            <p>Business Intelligence</p>
            <p class="fragment fade-in">Without knowing more details, it is better not to rush with the data modelling
                design</p>
            <p class="fragment fade-in">But I tried to do the most of it, and I figured out the following BI Report</p>
            <p class="fragment fade-in">This report shows how many contacts per company we gain date by date</p>
        </section>

        <section>
            <img src="dist/images/contacts-by-company.png" alt=""/>
        </section>

        <section>
            <p>This report was made with generated mock data</p>
            <p class="fragment fade-in">That was uploaded manually to the Azure SQL DB</p>
            <p class="fragment fade-in">And I used Power BI Desktop for the visualization</p>
        </section>

        <section>
            <p>Thanks for your attention</p>
        </section>

    </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script>
    // More info about initialization & config:
    // - https://revealjs.com/initialization/
    // - https://revealjs.com/config/
    Reveal.initialize({
        hash: true,
        slideNumber: true,
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
    });
</script>
</body>
</html>
